name: keepalive

on:
  schedule:
    - cron: '*/5 * * * *'   # 5분마다 (GitHub Actions 권장 최소 간격)
  workflow_dispatch:        # 필요시 수동 실행
  push:
    paths:
      - ".github/workflows/keepalive.yml"  # 이 파일 저장 시 즉시 1회 실행

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping API
        run: curl -fsS -m 10 https://my-manseryeok.onrender.com/ping || true
      - name: Ping Proxy
        run: curl -fsS -m 10 https://saju-proxy.onrender.com/ping || true
